{
    "swagger": "2.0",
    "openapi": "3.0.0",
    "info": {
        "title": "My API",
        "description": "Auto-generated Swagger docs for internal use",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "https://brokers-production.up.railway.app/"
        }
    ],
    "paths": {
        "/read": {
            "get": {
                "tags": [
                    "Events"
                ],
                "description": "Get all events",
                "responses": {
                    "503": {
                        "description": "Service Unavailable"
                    }
                }
            }
        },
        "/collection/{agent}": {
            "get": {
                "tags": [
                    "Events"
                ],
                "description": "Get a scollection of events by agent",
                "parameters": [
                    {
                        "name": "agent",
                        "in": "path",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "503": {
                        "description": "Service Unavailable"
                    }
                }
            }
        },
        "/resource/{id}": {
            "get": {
                "tags": [
                    "Events"
                ],
                "description": "Get a specific event by ID",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "503": {
                        "description": "Service Unavailable"
                    }
                }
            }
        },
        "/insert": {
            "post": {
                "tags": [
                    "Events"
                ],
                "description": "Insert event to db",
                "responses": {
                    "503": {
                        "description": "Service Unavailable"
                    }
                },
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "eventType": {
                                        "type": "string",
                                        "example": "click"
                                    },
                                    "eventTarget": {
                                        "type": "string",
                                        "example": "more info button"
                                    },
                                    "eventDocument": {
                                        "type": "string",
                                        "example": "home page"
                                    },
                                    "agent": {
                                        "type": "string",
                                        "example": "agent1234"
                                    }
                                },
                                "required": [
                                    "eventType",
                                    "eventTarget",
                                    "eventDocument",
                                    "agent"
                                ]
                            }
                        }
                    }
                }
            }
        },
        "/delete/{col}/{identifier}": {
            "delete": {
                "tags": [
                    "Events"
                ],
                "description": "Delete events by agent or document",
                "parameters": [
                    {
                        "name": "col",
                        "in": "path",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "identifier",
                        "in": "path",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "503": {
                        "description": "Service Unavailable"
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {}
    }
}
